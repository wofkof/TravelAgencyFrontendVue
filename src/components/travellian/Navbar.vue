<template>
  <header class="hero__header header">
    <!-- logo -->
      <router-link to="/" class="header__logo logo">
        <img
          src="@/assets/images/logo.png"
          alt="Travellian logo"
          class="logo__img"
          style="width: 180px"
        />
      </router-link>
    <!-- ä¸Šå°è¦½åˆ— -->
    <nav class="header__menu main-menu">
      <router-link
        to="/"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >é¦–é 
      </router-link>

      <router-link
        to="/Domestic"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >åœ‹å…§æ—…éŠ
      </router-link>

      <router-link
        to="/ForeignView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >åœ‹å¤–æ—…éŠ
      </router-link>

      <router-link
        to="/FreeTravelView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >è‡ªç”±è¡Œ
      </router-link>

      <router-link
        to="/CruiseView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >éŠè¼ªæ—…éŠ
      </router-link>

      <router-link
        to="/PricingView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >å„ªæƒ æ´»å‹•
      </router-link>

      <router-link
        to="/VisaView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >ä»£è¾¦ç°½è­‰
      </router-link>

      <router-link
        to="/ContactView"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >è¯çµ¡æˆ‘å€‘
      </router-link>

      <!-- <router-link
        to="/Cart"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        title="è³¼ç‰©è»Š" >
        <el-icon size="20"><ShoppingCart /></el-icon>
      </router-link> -->
      <CartPreviewIcon />
      
      <router-link
        to="/order-form"
        class="main-menu__item"
        active-class="main-menu__item--active"
        exact
        >è¨‚å–®è¡¨å–®
      </router-link>
    </nav>

    <!-- ç™»å…¥èˆ‡è¨»å†Š -->
    <nav class="header__menu auth-menu">
      <a href="#" class="auth-menu__item" data-text="Login" @click.prevent="showLogin = true">ç™»å…¥</a>
      <a href="#" class="auth-menu__item auth-menu__item--btn" data-text="Sign up" @click.prevent="showSignUp = true">è¨»å†Š</a>
    </nav>
  </header>

  <!-- ğŸ”’ ç™»å…¥ Dialog -->
  <el-dialog v-model="showLogin" width="800px" :close-on-click-modal="false">
    <Login
      @switchToSignUp="handleSwitchToSignUp"
      @switch-to-forget="handleSwitchToForgetPassword"
    />
  </el-dialog>

  <!-- ğŸ“ è¨»å†Š Dialog -->
  <el-dialog v-model="showSignUp" width="800px" :close-on-click-modal="false">
    <SignUp @switch-to-login="handleSwitchToLogin" />
  </el-dialog>

  <!-- â“ å¿˜è¨˜å¯†ç¢¼ Dialog -->
  <el-dialog v-model="showForgetPassword" width="800px" :close-on-click-modal="false">
    <ForgetPassword @switch-to-login="handleSwitchToLogin" />
  </el-dialog>
</template>

<script setup>
import { ref } from "vue";

import Login from "@/components/SignUp/Login.vue";
import SignUp from "@/components/SignUp/SignUp.vue";
import ForgetPassword from "@/components/SignUp/ForgetPassword.vue";
import SingUp from "@/components/singup/SingUp.vue";

import CartPreviewIcon from '@/components/tools/CartPreviewIcon.vue'; // ç¢ºèªè·¯å¾‘
const showSingUp = ref(false);

// æ§åˆ¶å„å€‹ dialog é¡¯ç¤º
const showLogin = ref(false);
const showSignUp = ref(false);
const showForgetPassword = ref(false);

// åˆ‡æ›é‚è¼¯
function handleSwitchToSignUp() {
  showLogin.value = false;
  showSignUp.value = true;
}

function handleSwitchToLogin() {
  showSignUp.value = false;
  showForgetPassword.value = false;
  showLogin.value = true;
}

function handleSwitchToForgetPassword() {
  showLogin.value = false;
  showForgetPassword.value = true;
}
</script>
