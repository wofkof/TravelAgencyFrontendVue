<!-- components/OrderDetail.vue -->
<template>
  <div v-if="detail" class="space-y-6 leading-6">
    <div>
      <h3 class="text-base font-semibold text-gray-800 mb-2">ğŸ“Œ è¡Œç¨‹ç›¸é—œè³‡è¨Š</h3>
      <p><strong>è¡Œç¨‹åç¨±ï¼š</strong>{{ detail.description }}</p>
      <p><strong>å‡ºç™¼æ—¥æœŸï¼š</strong>{{ formatDate(detail.startDate) }}</p>
      <p><strong>çµæŸæ—¥æœŸï¼š</strong>{{ formatDate(detail.endDate) }}</p>
      <p><strong>äººæ•¸ï¼š</strong>{{ detail.totalPeople }} äººï¼ˆæˆäººï¼š{{ detail.adultCount }}ã€å…’ç«¥ï¼š{{ detail.childCount }}ï¼‰</p>
    </div>

    <div>
      <h3 class="text-base font-semibold text-gray-800 mb-2">ğŸ‘¤ è¨‚è³¼äººèˆ‡æ—…å®¢è³‡è¨Š</h3>
      <p><strong>è¨‚è³¼äººï¼š</strong>{{ detail.ordererName }}ï¼ˆ{{ detail.ordererPhone }} / {{ detail.ordererEmail }}ï¼‰</p>
      <p><strong>å‚™è¨»ï¼š</strong>{{ detail.note || 'ç„¡' }}</p>
      <ul class="list-disc pl-6">
        <li v-for="(t, index) in detail.participants" :key="index">
          {{ t.name }}ï¼ˆ{{ formatDate(t.birthDate) }}ï¼‰
        </li>
      </ul>
    </div>

    <div>
      <h3 class="text-base font-semibold text-gray-800 mb-2">ğŸ’³ ä»˜æ¬¾èˆ‡ç™¼ç¥¨è³‡è¨Š</h3>
      <p><strong>ä»˜æ¬¾æ–¹å¼ï¼š</strong>{{ detail.paymentMethod }}</p>
      <p><strong>ä»˜æ¬¾ç‹€æ…‹ï¼š</strong>{{ detail.status }}</p>
      <p><strong>ä»˜æ¬¾æ™‚é–“ï¼š</strong>{{ formatDate(detail.createdAt) }}</p>
      <p><strong>ç¸½é‡‘é¡ï¼š</strong>{{ detail.totalAmount }} å…ƒ</p>
      <p v-if="detail.invoice">
        <strong>ç™¼ç¥¨è™Ÿç¢¼ï¼š</strong>{{ detail.invoice.invoiceNumber }}<br />
        <strong>ç™¼ç¥¨ç‹€æ…‹ï¼š</strong>{{ detail.invoice.invoiceStatus }}<br />
        <strong>ç™¼ç¥¨é¡å‹ï¼š</strong>{{ detail.invoice.invoiceType }}<br />
        <strong>è²·å—äººï¼š</strong>{{ detail.invoice.buyerName }}ï¼ˆ{{ detail.invoice.buyerUniformNumber || 'ç„¡çµ±ç·¨' }}ï¼‰<br />
        <strong>ç™¼ç¥¨é‡‘é¡ï¼š</strong>{{ detail.invoice.totalAmount }} å…ƒ<br />
        <strong>é–‹ç«‹æ™‚é–“ï¼š</strong>{{ formatDate(detail.invoice.createdAt) }}<br />
      </p>
      <p v-else><strong>ç™¼ç¥¨è™Ÿç¢¼ï¼š</strong>æœªé–‹ç«‹</p>
    </div>
  </div>
</template>

<script setup>
import dayjs from 'dayjs'

defineProps({
  detail: Object
})

const formatDate = (dateStr) =>
  dateStr ? dayjs(dateStr).format('YYYY-MM-DD') : 'â€”'
</script>
